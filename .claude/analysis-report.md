# aiNovel é¡¹ç›®æ·±åº¦åˆ†ææŠ¥å‘Š

**ç”Ÿæˆæ—¶é—´**: 2026-01-06
**åˆ†æèŒƒå›´**: é¡¹ç›®å…¨æ™¯ã€æŠ€æœ¯æ¶æ„ã€å®æ–½è·¯å¾„ã€é£é™©ç¼“è§£

---

## ä¸€ã€é¡¹ç›®æ¦‚è§ˆ

### 1.1 é¡¹ç›®å®šä½
aiNovel æ˜¯ä¸€ä¸ª AI å°è¯´åˆ›ä½œç³»ç»Ÿï¼Œç›®æ ‡æ˜¯æ”¯æŒ **300 ä¸‡å­—é•¿ç¯‡å°è¯´è‡ªåŠ¨åŒ–åˆ›ä½œ**ã€‚

**æ ¸å¿ƒåˆ›æ–°**ï¼š
- **åˆ†å·éš”ç¦»æ¶æ„**ï¼šåŒå±‚è®¾å®šæœºåˆ¶ï¼ˆglobal_config vs volume_configï¼‰
- **é˜²å‰§é€æœºåˆ¶**ï¼šå…¨å±€ç§˜å¯†ä¸ä¼ å…¥ LLMï¼Œé¿å…å‰æœŸç« èŠ‚æ³„éœ²åæœŸå‰§æƒ…
- **6 æ­¥åˆ›ä½œæµç¨‹**ï¼šæ€è·¯è®¨è®º â†’ èƒŒæ™¯ç”Ÿæˆ â†’ å¤§çº² â†’ ç»†çº² â†’ ç« èŠ‚åˆ›ä½œ â†’ è´¨é‡æ£€æŸ¥

### 1.2 æŠ€æœ¯æ ˆ
- **è¯­è¨€**: Python 3.10+
- **LLM SDK**: OpenAI, Anthropic Claude, é˜¿é‡Œé€šä¹‰åƒé—®
- **æ•°æ®åº“**: SQLAlchemy 2.0+ (é˜¶æ®µ 1: SQLite, é˜¶æ®µ 2: PostgreSQL)
- **æ ¸å¿ƒåº“**: Pydantic, Tenacity, Loguru, Tiktoken
- **å·¥å…·é“¾**: pytest, black, ruff, mypy
- **CLI**: Click, Rich

### 1.3 æˆæœ¬ç›®æ ‡
- **300 ä¸‡å­—åˆ›ä½œæˆæœ¬**: Â¥100-150
- **æ¨èç­–ç•¥**: ä½¿ç”¨ OpenAI å…¼å®¹æ¥å£çš„å›½äº§æ¨¡å‹
  - **DeepSeek**: Â¥1/ç™¾ä¸‡ tokensï¼ˆè¾“å…¥ï¼‰ï¼Œæ€§ä»·æ¯”æé«˜
  - **é€šä¹‰åƒé—® qwen-max**: Â¥20/ç™¾ä¸‡ tokensï¼Œè´¨é‡ä¼˜ç§€
  - **Moonshot**: Â¥12/ç™¾ä¸‡ tokensï¼Œä¸Šä¸‹æ–‡çª—å£å¤§
- **é…ç½®ç®€åŒ–**: ä»…éœ€ `OPENAI_API_KEY` å’Œ `OPENAI_API_BASE`

---

## äºŒã€æ¶æ„è®¾è®¡

### 2.1 åˆ†å±‚æ¶æ„
```
Web ç•Œé¢å±‚ (é˜¶æ®µ 2)
         â†“
æµç¨‹ç¼–æ’å±‚ (workflow) - 6 æ­¥æµç¨‹ç¼–æ’
         â†“
ç”Ÿæˆæ ¸å¿ƒå±‚ (core) - é•¿æ–‡æœ¬ç”Ÿæˆ + æç¤ºè¯ç®¡ç†
         â†“
è®°å¿†ç®¡ç†å±‚ (memory) - CharacterDB + WorldDB
         â†“
LLM æ¥å…¥å±‚ (llm) - å¤šå¹³å°ç»Ÿä¸€æ¥å£
         â†“
æ•°æ®æŒä¹…åŒ–å±‚ (db) - SQLAlchemy ORM
```

### 2.2 åˆ†å·éš”ç¦»æ¶æ„ï¼ˆæ ¸å¿ƒåˆ›æ–°ï¼‰

**è®¾è®¡ç†å¿µ**ï¼šé˜²æ­¢ LLM åœ¨å‰æœŸç« èŠ‚æ³„éœ²åæœŸå‰§æƒ…ã€‚

**åŒå±‚è®¾å®šæœºåˆ¶**ï¼š
| è®¾å®šå±‚çº§ | å­˜å‚¨ä½ç½® | æ˜¯å¦ä¼ å…¥ LLM | å†…å®¹ |
|---------|---------|-------------|------|
| **global_config** | GlobalConfig è¡¨ | âŒ å¦ | å®Œæ•´ä¸–ç•Œè§‚ + æœ€ç»ˆ boss + æ ¸å¿ƒç§˜å¯† |
| **volume_config** | VolumeConfig è¡¨ | âœ… æ˜¯ | å½“å‰å·çš„å±€éƒ¨ä¸–ç•Œè§‚ + å½“å‰ç™»åœºè§’è‰² |

**æ•°æ®åº“è®¾è®¡**ï¼š
```
Project (é¡¹ç›®)
  â†“
  â”œâ”€â”€ GlobalConfig (å…¨å±€è®¾å®š, ä¸ä¼ å…¥ LLM)
  â””â”€â”€ Volume (å·)
        â”œâ”€â”€ VolumeConfig (å½“å‰å·è®¾å®š, ä¼ å…¥ LLM)
        â””â”€â”€ Chapter (ç« èŠ‚)
```

**ç¤ºä¾‹åœºæ™¯**ï¼š
- **å…¨å±€è®¾å®š (ä¸ä¼ å…¥ LLM)**: "æœ€ç»ˆ boss æ˜¯ä¸»è§’çš„çˆ¶äº²ï¼Œç¬¬ 8 å·æ­æ™“"
- **ç¬¬ 1 å·è®¾å®š (ä¼ å…¥ LLM)**: "ä¸»è§’æ˜¯å­¤å„¿ï¼Œå¯»æ‰¾çˆ¶äº²ä¸‹è½"
- **æ•ˆæœ**: LLM åœ¨åˆ›ä½œç¬¬ 1 å·æ—¶ä¸çŸ¥é“çˆ¶äº²èº«ä»½ï¼Œé¿å…å‰§é€

### 2.3 è®°å¿†ç®¡ç†å±‚

**CharacterDatabase (è§’è‰²åº“)**ï¼š
- è§’è‰²åŸºæœ¬ä¿¡æ¯ï¼šå§“åã€MBTI äººæ ¼ã€èƒŒæ™¯æ•…äº‹
- è§’è‰²è®°å¿†ï¼šé‡è¦äº‹ä»¶ã€å…³ç³»ç½‘ç»œã€æˆé•¿è½¨è¿¹
- ä¸€è‡´æ€§æ£€æŸ¥ï¼š8 ç»´åº¦æ£€æŸ¥ï¼ˆæ€§æ ¼ã€å°è¯ã€è¡Œä¸ºã€åŠ¨æœºç­‰ï¼‰

**WorldDatabase (ä¸–ç•Œè§‚æ•°æ®åº“)**ï¼š
- ä¸–ç•Œè§‚è®¾å®šï¼šç‰©ç†è§„åˆ™ã€é­”æ³•ç³»ç»Ÿã€ç¤¾ä¼šç»“æ„
- åœ°ç‚¹åº“ï¼šåœ°å›¾ã€åŸå¸‚ã€é‡è¦åœºæ™¯
- ç»„ç»‡åº“ï¼šé—¨æ´¾ã€åŠ¿åŠ›ã€é˜µè¥å…³ç³»
- ç‰©å“åº“ï¼šæ³•å®ã€è£…å¤‡ã€å…³é”®é“å…·

**MBTI äººæ ¼ç³»ç»Ÿ**ï¼š
- ä¸ºæ¯ä¸ªè§’è‰²å»ºç«‹ MBTI æ¨¡å‹
- ç¡®ä¿å°è¯é£æ ¼ã€å†³ç­–é€»è¾‘ç¬¦åˆäººæ ¼ç‰¹å¾
- ç¤ºä¾‹ï¼šINTJ è§’è‰²ä¸ä¼šè¯´"éšä¾¿å§"ï¼Œæ›´å¯èƒ½è¯´"æˆ‘æœ‰æ›´åˆç†çš„æ–¹æ¡ˆ"

---

## ä¸‰ã€å½“å‰å®æ–½çŠ¶æ€

### 3.1 å·²å®Œæˆæ¨¡å—ï¼ˆ80%ï¼‰

**LLM æ¥å…¥å±‚** (`ainovel/llm/`)ï¼š
- âœ… `base.py`: BaseLLMClient æŠ½è±¡åŸºç±»
  - å®šä¹‰ç»Ÿä¸€æ¥å£ï¼š`generate()`, `count_tokens()`, `estimate_cost()`
  - æä¾›é”™è¯¯å¤„ç†æ¨¡æ¿
- âœ… `openai_client.py`: OpenAIClient å®Œæ•´å®ç°
  - æ”¯æŒ gpt-4o, gpt-4o-mini, gpt-4-turbo, gpt-3.5-turbo
  - tenacity è‡ªåŠ¨é‡è¯•ï¼ˆ3 æ¬¡ï¼ŒæŒ‡æ•°é€€é¿ 2s/4s/8sï¼‰
  - tiktoken Token è®¡æ•°
  - æˆæœ¬è®¡ç®—ï¼ˆç¾å…ƒï¼‰
- âœ… `factory.py`: LLMFactory å·¥å‚ç±» + LLMConfig é…ç½®æ¨¡å‹
  - Pydantic é…ç½®éªŒè¯
  - ç¯å¢ƒå˜é‡åŠ è½½
  - å®¢æˆ·ç«¯ç¼“å­˜
- âœ… `exceptions.py`: 5 ç§è‡ªå®šä¹‰å¼‚å¸¸
  - `LLMError`, `APIKeyError`, `TokenLimitError`, `RateLimitError`, `BudgetExceededError`

### 3.2 å¾…å®ç°æ¨¡å—

**LLM æ¥å…¥å±‚**ï¼š
- âœ… **100% å®Œæˆ**ï¼ˆç”¨æˆ·å†³ç­–ï¼šä»…æ”¯æŒ OpenAI æ¥å£ï¼‰
- æ”¯æŒæ‰€æœ‰ OpenAI å…¼å®¹æ¥å£ï¼šé€šä¹‰åƒé—®ã€DeepSeekã€Moonshot ç­‰
- é…ç½®ç®€åŒ–ï¼šä»…éœ€ `OPENAI_API_KEY` å’Œ `OPENAI_API_BASE`

**æ ¸å¿ƒæ¨¡å—**ï¼š
- â¹ï¸ æ•°æ®åº“å±‚ (`ainovel/db/`)
- â¹ï¸ è®°å¿†ç®¡ç†å±‚ (`ainovel/memory/`)
- â¹ï¸ ç”Ÿæˆæ ¸å¿ƒå±‚ (`ainovel/core/`)
- â¹ï¸ æµç¨‹ç¼–æ’å±‚ (`ainovel/workflow/`)
- â¹ï¸ CLI æ¥å£ (`ainovel/cli/`)

---

## å››ã€é˜¶æ®µ 1 å®æ–½è·¯å¾„

### 4.1 å…­å¤§é‡Œç¨‹ç¢‘ï¼ˆè°ƒæ•´åï¼‰

| é‡Œç¨‹ç¢‘ | ä¼˜å…ˆçº§ | ä»»åŠ¡æè¿° | çŠ¶æ€ |
|--------|--------|----------|------|
| **M1: LLM æ¥å…¥å±‚** | â­ï¸â­ï¸â­ï¸ æœ€é«˜ | OpenAI æ¥å£ï¼ˆå«å…¼å®¹æ¥å£ï¼‰ | âœ… **å·²å®Œæˆ** |
| **M2: æ•°æ®åº“å±‚** | â­ï¸â­ï¸â­ï¸ æœ€é«˜ | åˆ†å·æ¶æ„æ•°æ®æ¨¡å‹ + SQLAlchemy ORM + CRUD | âœ… **å·²å®Œæˆ** |
| **M3: è®°å¿†ç®¡ç†å±‚** | â­ï¸â­ï¸ é«˜ | CharacterDatabase + WorldDatabase | âœ… **å·²å®Œæˆ** |
| **M4: ç”Ÿæˆæ ¸å¿ƒå±‚** | â­ï¸ ä¸­ | æç¤ºè¯ç®¡ç† + OutlineGenerator + ChapterGenerator | â¹ï¸ å¾…å®ç° |
| **M5: æµç¨‹ç¼–æ’å±‚** | â­ï¸ ä¸­ | 6 æ­¥æµç¨‹ + çŠ¶æ€ç®¡ç† + é”™è¯¯æ¢å¤ | â¹ï¸ å¾…å®ç° |
| **M6: CLI æ¥å£** | ä½ | åŸºç¡€å‘½ä»¤ + rich ç¾åŒ–è¾“å‡º | â¹ï¸ å¾…å®ç° |

**è°ƒæ•´è¯´æ˜**ï¼š
- âœ… M1 å·²å®Œæˆï¼ˆç”¨æˆ·å†³ç­–ï¼šä»…æ”¯æŒ OpenAI æ¥å£ï¼‰
- âœ… M2 å·²å®Œæˆï¼ˆ2026-01-06ï¼‰ï¼šå®ç°äº† Novel/Volume/Chapter ä¸‰å±‚æ¨¡å‹ï¼Œæ‰€æœ‰æµ‹è¯•é€šè¿‡
- âœ… M3 å·²å®Œæˆï¼ˆ2026-01-06ï¼‰ï¼šå®ç°äº† Character/WorldData æ¨¡å‹å’ŒæœåŠ¡ç±»ï¼Œæ‰€æœ‰æµ‹è¯•é€šè¿‡
- ğŸ¯ M4 æˆä¸ºå½“å‰æœ€é«˜ä¼˜å…ˆçº§ä»»åŠ¡
- ğŸ’¡ ç®€åŒ–ç†ç”±ï¼šOpenAI å…¼å®¹æ¥å£å·²æˆä¸ºäº‹å®æ ‡å‡†ï¼Œé€šä¹‰åƒé—®ã€DeepSeek ç­‰å‡æ”¯æŒ

### 4.2 M2 æ•°æ®åº“å±‚è®¾è®¡ï¼ˆâœ… å·²å®Œæˆï¼‰

**æ ¸å¿ƒè¡¨ç»“æ„**ï¼š
```sql
-- é¡¹ç›®è¡¨
Project: id, name, created_at, updated_at

-- å…¨å±€è®¾å®šï¼ˆä¸ä¼ å…¥ LLMï¼‰
GlobalConfig: id, project_id, world_setting, final_boss, core_secrets

-- å·è¡¨
Volume: id, project_id, volume_number, title, status

-- å½“å‰å·è®¾å®šï¼ˆä¼ å…¥ LLMï¼‰
VolumeConfig: id, volume_id, local_world_setting, current_characters

-- ç« èŠ‚è¡¨
Chapter: id, volume_id, chapter_number, title, content, word_count

-- è§’è‰²è¡¨
Character: id, project_id, name, mbti, background, memories

-- ä¸–ç•Œè§‚æ•°æ®è¡¨
WorldData: id, project_id, data_type, content
```

**å…³é”®è®¾è®¡**ï¼š
- `GlobalConfig` çš„å†…å®¹æ°¸è¿œä¸è¿›å…¥ LLM æç¤ºè¯
- `VolumeConfig` æ ¹æ®å½“å‰å·åŠ¨æ€åŠ è½½
- ä½¿ç”¨ SQLAlchemy 2.0 çš„ Mapped ç±»å‹æ³¨è§£

---

## äº”ã€å…³é”®æŠ€æœ¯å†³ç­–

### 5.1 Token è®¡æ•°æ–¹æ¡ˆ
**å†³ç­–**: ä¼˜å…ˆä½¿ç”¨ API è¿”å›çš„ usageï¼Œtiktoken ä»…ç”¨äºé¢„ä¼°

**ç†ç”±**:
- API è¿”å›çš„ usage æ›´å‡†ç¡®ï¼Œç›´æ¥åæ˜ çœŸå®è®¡è´¹
- tiktoken å¯èƒ½ä¸å®é™…è®¡è´¹æœ‰åå·®

**å®ç°**:
```python
# OpenAIClient.generate() è¿”å›
{
    "content": "ç”Ÿæˆçš„å†…å®¹",
    "usage": {
        "input_tokens": 100,
        "output_tokens": 200,
        "total_tokens": 300,
    },
    "cost": 0.0005,  # ç¾å…ƒ
}
```

### 5.2 æµå¼è¾“å‡ºæ”¯æŒ
**å†³ç­–**: é˜¶æ®µ 1 ä¸æ”¯æŒæµå¼è¾“å‡ºï¼Œé¢„ç•™æ¥å£ç»™é˜¶æ®µ 2

**ç†ç”±**:
- é˜¶æ®µ 1 æ˜¯ CLI æ¨¡å¼ï¼Œæµå¼è¾“å‡ºä»·å€¼æœ‰é™
- Web ç•Œé¢ï¼ˆé˜¶æ®µ 2ï¼‰æ›´éœ€è¦æµå¼è¾“å‡º

**é¢„ç•™è®¾è®¡**:
```python
def generate(
    self,
    messages: List[Dict[str, str]],
    stream: bool = False,  # é˜¶æ®µ 2 æ”¯æŒ
    **kwargs,
) -> Union[Dict, AsyncGenerator]:
    ...
```

### 5.3 æ•°æ®åº“é€‰å‹
**å†³ç­–**: é˜¶æ®µ 1 ä½¿ç”¨ SQLiteï¼Œé˜¶æ®µ 2 æ”¯æŒ PostgreSQL

**ç†ç”±**:
- SQLite é€‚åˆæœ¬åœ°å¼€å‘å’Œå°è§„æ¨¡éƒ¨ç½²
- SQLAlchemy æŠ½è±¡å±‚æ˜“äºåˆ‡æ¢æ•°æ®åº“
- åæœŸè¿ç§»æˆæœ¬ä½

### 5.4 é‡è¯•ç­–ç•¥
**å†³ç­–**: æœ€å¤š 3 æ¬¡ï¼ŒæŒ‡æ•°é€€é¿ï¼ˆ2s/4s/8sï¼‰

**å®ç°**:
```python
@retry(
    stop=stop_after_attempt(3),
    wait=wait_exponential(multiplier=1, min=2, max=10),
    retry=retry_if_exception_type(RateLimitError),
    reraise=True,
)
def generate(self, ...):
    ...
```

**é‡è¯•æ¡ä»¶**:
- âœ… `RateLimitError`: é‡è¯•
- âŒ `APIKeyError`, `TokenLimitError`, `LLMError`: ç›´æ¥æŠ›å‡º

---

## å…­ã€é£é™©ä¸ç¼“è§£

### 6.1 API æˆæœ¬è¶…é¢„ç®—
**é£é™©**: LLM API è°ƒç”¨æˆæœ¬å¯èƒ½è¶…å‡ºé¢„ç®—

**ç¼“è§£æªæ–½**:
1. **æ—¥é¢„ç®—é™åˆ¶**: `DAILY_BUDGET` é…ç½®é¡¹ï¼ˆé»˜è®¤ $5ï¼‰
2. **BudgetExceededError å¼‚å¸¸**: é˜»æ­¢è¶…é¢„ç®—è°ƒç”¨
3. **æˆæœ¬è®°å½•**: æ¯æ¬¡è°ƒç”¨è®°å½• usage + costï¼Œç´¯è®¡æ—¥æˆæœ¬
4. **é˜¶æ®µ 2 è®¡åˆ’**: æˆæœ¬ç›‘æ§ä»ªè¡¨ç›˜ï¼Œå®æ—¶æ˜¾ç¤ºæˆæœ¬è¶‹åŠ¿

### 6.2 LLM è¾“å‡ºæ ¼å¼é”™è¯¯
**é£é™©**: LLM ç”Ÿæˆçš„å†…å®¹å¯èƒ½ä¸ç¬¦åˆé¢„æœŸæ ¼å¼ï¼ˆå¦‚ JSONã€YAMLï¼‰

**ç¼“è§£æªæ–½**:
1. **Pydantic éªŒè¯**: å‘ç°é”™è¯¯åè‡ªåŠ¨é‡è¯•
2. **é‡è¯•æœºåˆ¶**: æœ€å¤š 3 æ¬¡ï¼Œä½¿ç”¨ä¸åŒçš„ temperature
3. **é™çº§ç­–ç•¥**: ç®€åŒ–æç¤ºè¯ï¼Œæ˜ç¡®è¦æ±‚è¾“å‡ºæ ¼å¼
4. **Few-shot learning**: æç¤ºè¯ä¸­ç»™å‡ºè¾“å‡ºç¤ºä¾‹

### 6.3 é•¿æ–‡æœ¬ä¸€è‡´æ€§é—®é¢˜
**é£é™©**: 300 ä¸‡å­—åˆ›ä½œä¸­ï¼Œè§’è‰²æ€§æ ¼ã€è¡Œä¸ºã€ä¸–ç•Œè§‚å¯èƒ½å‡ºç°çŸ›ç›¾

**ç¼“è§£æªæ–½**:
- **é˜¶æ®µ 1**:
  - CharacterDatabase + WorldDatabase
  - æœ€è¿‘ 3-5 ç« æ‘˜è¦
  - MBTI äººæ ¼ç³»ç»Ÿå»ºæ¨¡
- **é˜¶æ®µ 2**:
  - ä¸Šä¸‹æ–‡å‹ç¼©å™¨ï¼ˆ3000 å­— â†’ 300 å­—ï¼‰
  - è¿‘ 20 ç« å…¨æ–‡ç¼“å­˜
  - å‘é‡æ£€ç´¢ç›¸å…³ç« èŠ‚
- **é˜¶æ®µ 3**:
  - æ–‡é£å­¦ä¹ ï¼ˆsentence-transformersï¼‰
  - 8 ç»´åº¦ä¸€è‡´æ€§æ£€æŸ¥

### 6.4 æµ‹è¯•è¦†ç›–ç‡ä¸è¶³
**é£é™©**: ä»£ç ç¼ºä¹æµ‹è¯•ï¼Œå¯¼è‡´å›å½’é£é™©é«˜

**ç¼“è§£æªæ–½**:
1. **å•å…ƒæµ‹è¯•**: æ¯ä¸ªæ¨¡å—å¿…é¡»æœ‰ pytest æµ‹è¯•
2. **Mock LLM è°ƒç”¨**: é¿å…çœŸå®è°ƒç”¨æµªè´¹æˆæœ¬
3. **æµ‹è¯•æ•°æ®åº“**: SQLite in-memory
4. **ç›®æ ‡è¦†ç›–ç‡**: æ ¸å¿ƒé€»è¾‘ > 80%ï¼Œè¾¹ç¼˜é€»è¾‘ > 60%

---

## ä¸ƒã€è®¾è®¡åŸåˆ™ä½“ç°

### 7.1 SOLID åŸåˆ™
- **S (å•ä¸€èŒè´£)**: å„å®¢æˆ·ç«¯åªè´Ÿè´£å¯¹åº”å¹³å°çš„ API è°ƒç”¨
- **O (å¼€æ”¾/å°é—­)**: é€šè¿‡æŠ½è±¡åŸºç±»æ‰©å±•æ–°å¹³å°ï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 
- **L (é‡Œæ°æ›¿æ¢)**: OpenAIClient/ClaudeClient/QwenClient å¯äº’ç›¸æ›¿æ¢
- **I (æ¥å£éš”ç¦»)**: BaseLLMClient ä»…å®šä¹‰å¿…è¦æ¥å£
- **D (ä¾èµ–å€’ç½®)**: LLMFactory ä¾èµ– BaseLLMClient æŠ½è±¡ï¼Œä¸ä¾èµ–å…·ä½“å®ç°

### 7.2 DRY åŸåˆ™
- **é‡è¯•é€»è¾‘**: tenacity è£…é¥°å™¨å¤ç”¨
- **Token è®¡æ•°**: æŠ½è±¡ä¸º `count_tokens()` æ–¹æ³•
- **æˆæœ¬è®¡ç®—**: æŠ½è±¡ä¸º `estimate_cost()` æ–¹æ³•
- **é”™è¯¯å¤„ç†**: ç»Ÿä¸€å¼‚å¸¸ç±»ä½“ç³»

### 7.3 KISS åŸåˆ™
- **ç®€åŒ–é…ç½®**: ç¯å¢ƒå˜é‡ + Pydantic è‡ªåŠ¨éªŒè¯
- **ç®€åŒ–è°ƒç”¨**: å·¥å‚æ¨¡å¼ä¸€è¡Œåˆ›å»ºå®¢æˆ·ç«¯
- **ç®€åŒ–æµ‹è¯•**: Mock é¿å…çœŸå® API è°ƒç”¨

### 7.4 YAGNI åŸåˆ™
- **é˜¶æ®µ 1 ä¸å®ç°æµå¼è¾“å‡º**: CLI ä»·å€¼æœ‰é™ï¼Œé¢„ç•™æ¥å£å³å¯
- **é˜¶æ®µ 1 ä½¿ç”¨ SQLite**: åç»­å†æ”¯æŒ PostgreSQL
- **æš‚ä¸å®ç°æ–‡é£å­¦ä¹ **: ç•™åˆ°é˜¶æ®µ 3

---

## å…«ã€ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### 8.1 ç«‹å³æ‰§è¡Œï¼ˆä»Šæ—¥ï¼‰
1. âœ… å°†åˆ†æç»“æœå­˜å‚¨åˆ° Memory MCP
2. âœ… æ›´æ–°åˆ†ææŠ¥å‘Šï¼ˆè°ƒæ•´ LLM ç­–ç•¥ï¼‰
3. ğŸ¯ **å¼€å§‹å®æ–½ M2ï¼šæ•°æ®åº“å±‚è®¾è®¡**
   - è®¾è®¡åˆ†å·æ¶æ„æ•°æ®æ¨¡å‹
   - å®šä¹‰ SQLAlchemy ORM æ¨¡å‹
   - å®ç° CRUD æ“ä½œ

### 8.2 æœ¬å‘¨è®¡åˆ’
- **ä»Šæ—¥**: å®Œæˆ M2 æ•°æ®æ¨¡å‹è®¾è®¡
- **æ˜æ—¥**: å®ç° SQLAlchemy ORM + Alembic è¿ç§»
- **åå¤©**: å®ç° CRUD ç®¡ç†å™¨ + å•å…ƒæµ‹è¯•

### 8.3 é˜¶æ®µ 1 å®Œæˆç›®æ ‡
- **æ—¶é—´**: çº¦ 2-3 å‘¨ï¼ˆM1 å·²å®Œæˆï¼ŒèŠ‚çœæ—¶é—´ï¼‰
- **éªŒæ”¶æ ‡å‡†**:
  - âœ… æ”¯æŒ OpenAI æ¥å£ï¼ˆå«å…¼å®¹æ¥å£ï¼šé€šä¹‰åƒé—®ã€DeepSeek ç­‰ï¼‰
  - âœ… æ•°æ®åº“æ”¯æŒåˆ†å·æ¶æ„
  - âœ… è®°å¿†ç®¡ç†å±‚å¯ç”¨
  - âœ… 6 æ­¥æµç¨‹å¯ç«¯åˆ°ç«¯è¿è¡Œ
  - âœ… CLI å¯åˆ›å»ºé¡¹ç›®å¹¶ç”Ÿæˆç¬¬ 1 ç« 
  - âœ… å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 70%

---

## ä¹ã€å‚è€ƒèµ„æ–™

- **é¡¹ç›®æ–‡æ¡£**: [README.md](../README.md)
- **å¼€å‘è§„èŒƒ**: [Claude.md](../Claude.md), [AGENTS.md](../AGENTS.md)
- **åˆæ­¥åˆ†æ**: [.claude/context-initial.md](context-initial.md)
- **æ“ä½œæ—¥å¿—**: [.claude/operations-log.md](operations-log.md)
- **ä¾èµ–é…ç½®**: [pyproject.toml](../pyproject.toml)

---

**æŠ¥å‘Šç”Ÿæˆ**: Claude Code + Sequential Thinking MCP + Memory MCP
**åˆ†ææ·±åº¦**: é¡¹ç›®å…¨æ™¯ã€æ¶æ„è®¾è®¡ã€å®æ–½è·¯å¾„ã€é£é™©ç¼“è§£
**å­˜å‚¨ä½ç½®**: Memory MCP çŸ¥è¯†å›¾è°±ï¼ˆ15 ä¸ªå®ä½“ + 15 ä¸ªå…³ç³»ï¼‰
